'use client';

import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { useState } from 'react';

export default function PSIHeader() {
  const pathname = usePathname();
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  const navItems = [
    { href: '/theory-of-change', label: 'Theory of Change' },
    { href: '/framework-explorer', label: 'Strategic Elements' },
    { href: '/ecosystem-map', label: 'Ecosystem Map' },
  ];

  return (
    <header className="border-b border-gray-200" style={{ backgroundColor: '#FBF3E7' }}>
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4">
        <div className="flex items-center justify-between">
          {/* PSI Logo */}
          <a
            href="https://www.psychedelicsafety.institute"
            className="hover:opacity-80 transition-opacity flex-shrink-0"
          >
            <svg className="w-32 h-8 sm:w-48 sm:h-12 md:w-56 md:h-14" viewBox="0 0 345 87" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M333.734 24.4198H332.102C330.307 24.4198 328.729 24.2294 327.369 23.8485C326.009 23.4676 324.975 22.9598 324.24 22.3567C323.479 21.7854 322.88 21.0554 322.418 20.2302C321.955 19.4049 321.656 18.6114 321.52 17.9132C321.384 17.2149 321.33 16.4214 321.33 15.5962V15.0248C321.33 9.27993 324.893 6.3916 332.075 6.3916H333.762C335.611 6.3916 337.216 6.61378 338.604 6.99466C339.991 7.37554 341.052 7.85163 341.787 8.39121C342.494 8.93079 343.092 9.56559 343.528 10.3273C343.963 11.0891 344.262 11.7556 344.371 12.2952C344.48 12.8665 344.534 13.4378 344.534 14.0092V14.1044H336.972C336.917 13.8505 336.863 13.5965 336.754 13.3426C336.645 13.0887 336.482 12.803 336.237 12.4222C335.965 12.0413 335.557 11.7556 334.986 11.5017C334.414 11.2795 333.734 11.1526 332.918 11.1526H332.809C331.34 11.1526 330.334 11.5335 329.735 12.2952C329.137 13.057 328.838 13.9774 328.838 15.1201V15.2788C328.838 16.4849 329.137 17.5323 329.763 18.3575C330.361 19.1828 331.395 19.5954 332.809 19.5954H332.918C333.707 19.5954 334.387 19.5002 334.958 19.2462C335.53 18.9923 335.938 18.6749 336.21 18.294C336.482 17.9132 336.645 17.564 336.754 17.3101C336.863 17.0562 336.917 16.7705 336.972 16.5166H344.534V16.5801C344.534 16.9927 344.507 17.3736 344.452 17.7545C344.398 18.1353 344.289 18.6114 344.126 19.151C343.963 19.6906 343.718 20.1984 343.446 20.6428C343.147 21.1189 342.711 21.595 342.167 22.0711C341.623 22.5472 340.97 22.9598 340.236 23.2772C339.501 23.6263 338.577 23.912 337.461 24.1024C336.346 24.3246 335.094 24.4198 333.734 24.4198Z" fill="black"/>
              <path d="M319.192 0.32959V5.4397H311.793V0.32959H319.192ZM319.192 6.86799V23.944H311.793V6.86799H319.192Z" fill="black"/>
              <path d="M309.085 0.32959V23.944H301.685V0.32959H309.085Z" fill="black"/>
              <path d="M287.983 10.5813C285.562 10.5813 284.148 11.4382 283.767 13.1522H292.2C291.873 11.4382 290.486 10.5813 287.983 10.5813ZM299.545 17.7227V17.7862C299.545 18.3575 299.463 18.8971 299.354 19.4049C299.218 19.9128 298.919 20.5158 298.484 21.1506C298.021 21.7854 297.423 22.3567 296.688 22.8011C295.927 23.2455 294.866 23.6263 293.506 23.9437C292.145 24.2611 290.54 24.4198 288.745 24.4198H287.303C285.562 24.4198 284.039 24.2611 282.733 23.8803C281.4 23.5311 280.339 23.055 279.577 22.4837C278.789 21.9124 278.163 21.2458 277.673 20.4524C277.184 19.6589 276.83 18.8654 276.667 18.1036C276.503 17.3418 276.422 16.5166 276.422 15.6279V14.9931C276.422 9.27993 280.013 6.3916 287.222 6.3916H288.718C290.023 6.3916 291.22 6.51856 292.309 6.709C293.397 6.89944 294.294 7.1851 295.056 7.5025C295.791 7.85163 296.443 8.26425 296.988 8.77209C297.532 9.27993 297.994 9.8195 298.32 10.3273C298.647 10.8352 298.892 11.4382 299.109 12.073C299.3 12.7078 299.436 13.3109 299.49 13.8822C299.545 14.4535 299.599 15.0566 299.599 15.6914V16.6436H283.685C283.93 18.7384 285.399 19.7858 288.119 19.7858H288.146C288.799 19.7858 289.371 19.7223 289.887 19.5954C290.404 19.4684 290.812 19.3415 291.084 19.1828C291.356 19.0241 291.601 18.8336 291.792 18.6114C291.955 18.421 292.091 18.2306 292.145 18.1036C292.2 17.9766 292.227 17.8497 292.254 17.7227H299.545Z" fill="black"/>
              <path d="M266.883 15.406V15.2473C266.883 14.2316 266.475 13.3112 265.659 12.5177C264.843 11.7242 263.728 11.3116 262.286 11.3116H262.15C260.681 11.3116 259.62 11.6925 258.994 12.4542C258.342 13.216 258.042 14.1364 258.042 15.2473V15.406C258.042 16.4852 258.369 17.4374 259.049 18.2309C259.729 19.0561 260.763 19.437 262.177 19.437H262.286C263.755 19.437 264.87 19.0561 265.686 18.2309C266.475 17.4056 266.883 16.4852 266.883 15.406ZM266.883 0.32959H274.283V23.944H266.911V21.4683C266.72 21.7222 266.475 21.9444 266.203 22.1983C265.931 22.4523 265.496 22.7379 264.952 23.0871C264.408 23.4362 263.673 23.7218 262.803 23.944C261.905 24.1662 260.926 24.2614 259.865 24.2614H259.402C256.41 24.2614 254.179 23.4679 252.71 21.8175C251.241 20.1987 250.534 18.1356 250.534 15.6282V14.9617C250.534 13.819 250.67 12.7716 250.997 11.8194C251.323 10.8672 251.813 9.9785 252.466 9.15326C253.118 8.35977 254.016 7.72497 255.159 7.24887C256.301 6.80452 257.634 6.5506 259.185 6.5506H259.702C262.612 6.5506 265.006 7.37583 266.883 9.02631V0.32959Z" fill="black"/>
              <path d="M237.403 10.5813C234.982 10.5813 233.568 11.4382 233.187 13.1522H241.62C241.293 11.4382 239.906 10.5813 237.403 10.5813ZM248.965 17.7227V17.7862C248.965 18.3575 248.883 18.8971 248.774 19.4049C248.638 19.9128 248.339 20.5158 247.904 21.1506C247.441 21.7854 246.843 22.3567 246.108 22.8011C245.347 23.2455 244.286 23.6263 242.926 23.9437C241.565 24.2611 239.96 24.4198 238.165 24.4198H236.723C234.982 24.4198 233.459 24.2611 232.153 23.8803C230.82 23.5311 229.759 23.055 228.998 22.4837C228.209 21.9124 227.583 21.2458 227.093 20.4524C226.604 19.6589 226.25 18.8654 226.087 18.1036C225.924 17.3418 225.842 16.5166 225.842 15.6279V14.9931C225.842 9.27993 229.433 6.3916 236.642 6.3916H238.138C239.444 6.3916 240.641 6.51856 241.729 6.709C242.817 6.89944 243.714 7.1851 244.476 7.5025C245.211 7.85163 245.864 8.26425 246.408 8.77209C246.952 9.27993 247.414 9.8195 247.741 10.3273C248.067 10.8352 248.312 11.4382 248.529 12.073C248.72 12.7078 248.856 13.3109 248.91 13.8822C248.965 14.4535 249.019 15.0566 249.019 15.6914V16.6436H233.105C233.35 18.7384 234.819 19.7858 237.539 19.7858H237.567C238.219 19.7858 238.791 19.7223 239.308 19.5954C239.824 19.4684 240.232 19.3415 240.505 19.1828C240.777 19.0241 241.021 18.8336 241.212 18.6114C241.375 18.421 241.511 18.2306 241.565 18.1036C241.62 17.9766 241.647 17.8497 241.674 17.7227H248.965Z" fill="black"/>
              <path d="M201.455 23.944V0.32959H208.855V9.85154C210.759 7.62975 213.261 6.48712 216.363 6.48712H216.526C217.832 6.48712 218.947 6.7093 219.926 7.12191C220.906 7.53453 221.64 8.07411 222.184 8.74065C222.701 9.40718 223.082 10.1055 223.327 10.8037C223.571 11.502 223.707 12.232 223.707 12.962V23.944H216.281V15.7869C216.281 14.5808 215.982 13.6286 215.41 12.9303C214.839 12.232 213.942 11.8511 212.745 11.8511C211.52 11.8511 210.568 12.232 209.888 12.9938C209.181 13.7555 208.855 14.7712 208.855 16.0091V23.944H201.455Z" fill="black"/>
              <path d="M188.623 24.4198H186.991C185.195 24.4198 183.617 24.2294 182.257 23.8485C180.897 23.4676 179.863 22.9598 179.129 22.3567C178.367 21.7854 177.769 21.0554 177.306 20.2302C176.844 19.4049 176.545 18.6114 176.409 17.9132C176.273 17.2149 176.218 16.4214 176.218 15.5962V15.0248C176.218 9.27993 179.782 6.3916 186.963 6.3916H188.65C190.5 6.3916 192.105 6.61378 193.492 6.99466C194.88 7.37554 195.941 7.85163 196.675 8.39121C197.382 8.93079 197.981 9.56559 198.416 10.3273C198.851 11.0891 199.151 11.7556 199.259 12.2952C199.368 12.8665 199.423 13.4378 199.423 14.0092V14.1044H191.86C191.806 13.8505 191.751 13.5965 191.642 13.3426C191.534 13.0887 191.37 12.803 191.126 12.4222C190.854 12.0413 190.446 11.7556 189.874 11.5017C189.303 11.2795 188.623 11.1526 187.807 11.1526H187.698C186.229 11.1526 185.222 11.5335 184.624 12.2952C184.026 13.057 183.726 13.9774 183.726 15.1201V15.2788C183.726 16.4849 184.026 17.5323 184.651 18.3575C185.25 19.1828 186.283 19.5954 187.698 19.5954H187.807C188.596 19.5954 189.276 19.5002 189.847 19.2462C190.418 18.9923 190.826 18.6749 191.098 18.294C191.37 17.9132 191.534 17.564 191.642 17.3101C191.751 17.0562 191.806 16.7705 191.86 16.5166H199.423V16.5801C199.423 16.9927 199.395 17.3736 199.341 17.7545C199.287 18.1353 199.178 18.6114 199.015 19.151C198.851 19.6906 198.606 20.1984 198.334 20.6428C198.035 21.1189 197.6 21.595 197.056 22.0711C196.512 22.5472 195.859 22.9598 195.124 23.2772C194.39 23.6263 193.465 23.912 192.35 24.1024C191.234 24.3246 189.983 24.4198 188.623 24.4198Z" fill="black"/>
              <path d="M156.77 29.9113V24.6425H160.089C160.524 24.6425 160.769 24.4838 160.769 24.1029V24.0712C160.769 23.849 160.551 23.2777 160.143 22.3572L153.234 6.86816H161.122L165.203 17.8502L168.984 6.86816H176.329L169.283 24.6742C168.549 26.5151 167.76 27.8482 166.89 28.6734C166.019 29.4987 164.931 29.9113 163.652 29.9113H156.77Z" fill="black"/>
              <path d="M143.432 24.4198H141.936C135.407 24.4198 132.17 22.4202 132.17 18.3575V18.1353H139.705C139.705 18.3575 139.732 18.548 139.787 18.7384C139.841 18.9288 139.977 19.151 140.167 19.4049C140.331 19.6589 140.657 19.881 141.092 20.008C141.528 20.1667 142.072 20.2302 142.724 20.2302H142.779C143.949 20.2302 144.738 20.1032 145.173 19.8493C145.581 19.5954 145.798 19.2462 145.798 18.8019V18.7384C145.798 18.294 145.608 17.9766 145.254 17.7545C144.874 17.5323 144.139 17.4053 142.997 17.3418L139.895 17.2466C134.836 17.0562 132.333 15.247 132.333 11.8826V11.6922C132.333 10.9304 132.442 10.2639 132.714 9.69255C132.959 9.12123 133.421 8.54991 134.074 8.01033C134.727 7.5025 135.733 7.08988 137.039 6.80422C138.345 6.5503 139.977 6.3916 141.936 6.3916H143.377C149.77 6.3916 152.98 8.16903 152.98 11.6922V11.9143H145.581C145.526 11.6604 145.472 11.4382 145.39 11.2478C145.282 11.0574 145.01 10.8669 144.547 10.6447C144.085 10.4543 143.459 10.3273 142.643 10.3273H142.616C141.473 10.3273 140.711 10.4226 140.331 10.613C139.95 10.8034 139.759 11.0891 139.759 11.5017V11.5335C139.759 11.9143 139.95 12.2317 140.331 12.4222C140.711 12.6444 141.419 12.7713 142.48 12.803L145.554 12.8983C147.703 12.9935 149.362 13.2474 150.559 13.6918C151.729 14.1361 152.518 14.7392 152.926 15.4375C153.307 16.1675 153.524 17.1197 153.524 18.3258V18.548C153.524 19.2462 153.443 19.8493 153.307 20.3889C153.143 20.9284 152.871 21.468 152.436 21.9759C152.001 22.4837 151.402 22.9281 150.695 23.2772C149.961 23.6263 148.981 23.912 147.757 24.1024C146.533 24.3246 145.091 24.4198 143.432 24.4198Z" fill="black"/>
              <path d="M121.311 16.5486H112.17V23.944H104.445V0.32959H121.311C127.703 0.32959 130.913 2.93226 130.913 8.13759V8.64543C130.913 13.9142 127.703 16.5486 121.311 16.5486ZM112.17 6.2332V10.645H120.386C122.072 10.645 122.943 9.94676 122.943 8.48673V8.39151C122.943 6.96322 122.072 6.2332 120.386 6.2332H112.17Z" fill="black"/>
              <path d="M214.627 61.8675V56.5064H218.004C218.446 56.5064 218.695 56.3449 218.695 55.9574V55.9251C218.695 55.699 218.474 55.1177 218.059 54.1811L211.028 38.4209H219.055L223.207 49.5952L227.055 38.4209H234.528L227.359 56.5387C226.612 58.4119 225.809 59.7683 224.923 60.608C224.038 61.4476 222.93 61.8675 221.63 61.8675H214.627Z" fill="black"/>
              <path d="M210.096 55.796H203.73C201.073 55.796 199.772 54.1489 199.772 50.8548V43.7498H196.921V38.421H199.772V33.3506H207.245V38.421H210.096V43.7498H207.245V48.8848C207.245 49.4661 207.301 49.8536 207.467 50.0797C207.633 50.3058 207.965 50.4027 208.491 50.4027H210.096V55.796Z" fill="black"/>
              <path d="M183.942 42.1995C181.478 42.1995 180.039 43.0715 179.652 44.8155H188.232C187.9 43.0715 186.488 42.1995 183.942 42.1995ZM195.706 49.466V49.5306C195.706 50.112 195.623 50.661 195.512 51.1777C195.374 51.6944 195.069 52.3081 194.626 52.954C194.156 53.5999 193.547 54.1812 192.799 54.6333C192.024 55.0855 190.945 55.473 189.561 55.796C188.177 56.1189 186.544 56.2804 184.717 56.2804H183.25C181.478 56.2804 179.928 56.1189 178.6 55.7314C177.244 55.3761 176.164 54.8917 175.389 54.3104C174.586 53.7291 173.95 53.0509 173.451 52.2435C172.953 51.4361 172.593 50.6287 172.427 49.8536C172.261 49.0785 172.178 48.2388 172.178 47.3345V46.6886C172.178 40.8754 175.832 37.9365 183.167 37.9365H184.689C186.018 37.9365 187.236 38.0657 188.343 38.2595C189.45 38.4533 190.364 38.7439 191.139 39.0669C191.886 39.4221 192.55 39.842 193.104 40.3587C193.658 40.8754 194.128 41.4244 194.46 41.9412C194.792 42.4579 195.041 43.0715 195.263 43.7174C195.457 44.3633 195.595 44.977 195.65 45.5583C195.706 46.1396 195.761 46.7532 195.761 47.3991V48.368H179.569C179.818 50.4995 181.312 51.5653 184.08 51.5653H184.108C184.772 51.5653 185.354 51.5007 185.88 51.3715C186.405 51.2423 186.821 51.1131 187.097 50.9516C187.374 50.7902 187.623 50.5964 187.817 50.3703C187.983 50.1765 188.122 49.9828 188.177 49.8536C188.232 49.7244 188.26 49.5952 188.288 49.466H195.706Z" fill="black"/>
              <path d="M170.862 31.7681V36.4186H168.537C168.122 36.4186 167.845 36.5155 167.707 36.7093C167.568 36.9031 167.513 37.226 167.513 37.6782V38.421H170.862V43.7497H167.513V55.796H160.039V43.7497H157.105V38.421H160.039V36.7093C160.039 33.4151 161.839 31.7681 165.492 31.7681H170.862Z" fill="black"/>
              <path d="M147.799 48.3356V47.5928L142.817 48.6263C142.152 48.7555 141.682 48.9492 141.405 49.143C141.128 49.3691 140.99 49.692 140.99 50.1119V50.1442C140.99 50.6609 141.156 51.0808 141.516 51.4037C141.875 51.759 142.484 51.9204 143.342 51.9204C144.671 51.9204 145.723 51.5652 146.553 50.8547C147.384 50.1442 147.799 49.3045 147.799 48.3356ZM147.937 53.4706C146.415 55.2469 144.09 56.1189 140.962 56.1189H140.658C138.332 56.1189 136.589 55.6021 135.454 54.5041C134.319 53.4383 133.765 52.1142 133.765 50.5317V50.1442C133.765 48.6586 134.208 47.4959 135.149 46.6563C136.09 45.8166 137.64 45.2998 139.799 45.1061L146.968 44.3633C147.522 44.2987 147.799 44.008 147.799 43.5236C147.799 43.2652 147.716 43.0715 147.605 42.8777C147.494 42.7162 147.19 42.5547 146.692 42.4255C146.193 42.2964 145.474 42.1995 144.56 42.1995H144.45C143.702 42.1995 143.093 42.2641 142.595 42.3932C142.097 42.5224 141.765 42.6839 141.571 42.91C141.377 43.1683 141.266 43.3298 141.211 43.459C141.156 43.5882 141.128 43.7497 141.1 43.9757H134.125V43.782C134.125 43.2006 134.153 42.7162 134.236 42.2641C134.319 41.8442 134.54 41.3275 134.928 40.7462C135.288 40.1648 135.786 39.7127 136.423 39.3252C137.059 38.9699 138 38.647 139.246 38.3886C140.491 38.1302 141.958 37.9688 143.675 37.9688H145.225C146.996 37.9688 148.519 38.0979 149.819 38.3563C151.093 38.6147 152.089 38.9053 152.754 39.2606C153.418 39.6158 153.944 40.068 154.331 40.617C154.719 41.166 154.94 41.6504 155.023 42.0703C155.106 42.4901 155.162 42.9746 155.162 43.5559V49.9827C155.162 50.4994 155.355 50.7255 155.798 50.7255H156.601V55.7959H150.345C148.961 55.7959 148.159 55.0208 147.937 53.4706Z" fill="black"/>
              <path d="M119.618 56.248H117.099C108.712 56.248 104.532 53.406 104.532 47.722V47.399H113.168C113.307 49.6597 115.023 50.7901 118.317 50.7901H118.566C119.618 50.7901 120.476 50.7578 121.195 50.6286C121.887 50.4994 122.413 50.3379 122.745 50.1119C123.077 49.8858 123.299 49.6597 123.41 49.4014C123.52 49.143 123.603 48.8523 123.603 48.5294V48.4971C123.603 48.045 123.493 47.6897 123.299 47.4313C123.105 47.173 122.635 46.9146 121.915 46.7208C121.195 46.5271 120.143 46.3979 118.759 46.3333L114.94 46.2041C108.186 46.0103 104.837 43.5882 104.837 38.9699V38.6792C104.837 37.8396 104.92 37.0968 105.141 36.4186C105.335 35.7403 105.695 35.0621 106.248 34.4162C106.774 33.7703 107.466 33.2536 108.352 32.8014C109.21 32.3816 110.345 32.0264 111.757 31.768C113.168 31.5096 114.801 31.3481 116.683 31.3481H119.147C127.479 31.3481 131.658 33.8995 131.658 38.9376V39.196H123.105C122.939 37.5166 121.278 36.6446 118.123 36.6446H117.846C116.545 36.6446 115.549 36.7415 114.857 36.9353C114.137 37.1291 113.722 37.3228 113.556 37.5489C113.39 37.775 113.307 38.0656 113.307 38.4209V38.4532C113.307 38.8407 113.39 39.1314 113.583 39.3574C113.777 39.6158 114.22 39.8096 114.912 40.0034C115.576 40.1971 116.545 40.294 117.791 40.294L121.5 40.3909C125.375 40.5201 128.171 41.166 129.859 42.2963C131.52 43.4267 132.378 45.2029 132.378 47.6251V48.0773C132.378 48.9815 132.267 49.7889 132.101 50.4994C131.907 51.2099 131.547 51.9527 130.994 52.6955C130.44 53.4383 129.693 54.0519 128.779 54.5687C127.866 55.0854 126.62 55.4729 125.07 55.7959C123.52 56.1189 121.693 56.248 119.618 56.248Z" fill="black"/>
              <path d="M256.75 72.2991C254.287 72.2991 252.847 73.1711 252.46 74.9151H261.04C260.708 73.1711 259.297 72.2991 256.75 72.2991ZM268.514 79.5657V79.6302C268.514 80.2116 268.431 80.7606 268.32 81.2773C268.182 81.794 267.877 82.4077 267.434 83.0536C266.964 83.6995 266.355 84.2808 265.608 84.7329C264.833 85.1851 263.753 85.5726 262.369 85.8956C260.985 86.2185 259.352 86.38 257.525 86.38H256.058C254.287 86.38 252.737 86.2185 251.408 85.831C250.052 85.4757 248.972 84.9913 248.197 84.41C247.394 83.8287 246.758 83.1505 246.26 82.3431C245.761 81.5357 245.401 80.7283 245.235 79.9532C245.069 79.1781 244.986 78.3384 244.986 77.4341V76.7882C244.986 70.975 248.64 68.0361 255.975 68.0361H257.497C258.826 68.0361 260.044 68.1653 261.151 68.3591C262.258 68.5529 263.172 68.8435 263.947 69.1665C264.694 69.5217 265.358 69.9416 265.912 70.4583C266.466 70.975 266.936 71.5241 267.268 72.0408C267.601 72.5575 267.85 73.1711 268.071 73.817C268.265 74.463 268.403 75.0766 268.459 75.6579C268.514 76.2392 268.569 76.8528 268.569 77.4987V78.4676H252.377C252.626 80.5991 254.121 81.6649 256.889 81.6649H256.916C257.581 81.6649 258.162 81.6003 258.688 81.4711C259.214 81.3419 259.629 81.2127 259.906 81.0512C260.182 80.8898 260.432 80.696 260.625 80.4699C260.791 80.2762 260.93 80.0824 260.985 79.9532C261.04 79.824 261.068 79.6948 261.096 79.5657H268.514Z" fill="black"/>
              <path d="M243.332 85.8956H236.966C234.309 85.8956 233.008 84.2485 233.008 80.9544V73.8494H230.157V68.5206H233.008V63.4502H240.481V68.5206H243.332V73.8494H240.481V78.9844C240.481 79.5657 240.537 79.9532 240.703 80.1793C240.869 80.4054 241.201 80.5023 241.727 80.5023H243.332V85.8956Z" fill="black"/>
              <path d="M228.144 68.521V85.896H220.671V82.7956C218.678 85.1209 216.159 86.2836 213.114 86.2836H212.92C211.592 86.2836 210.457 86.0898 209.488 85.6377C208.492 85.2178 207.744 84.6365 207.246 83.926C206.748 83.2155 206.36 82.505 206.139 81.7622C205.89 81.0517 205.779 80.2766 205.779 79.5015V68.521H213.336V76.821C213.336 78.0482 213.612 79.0171 214.166 79.7276C214.72 80.4704 215.578 80.8256 216.768 80.8256C217.986 80.8256 218.927 80.4381 219.619 79.6307C220.283 78.8556 220.643 77.8221 220.643 76.5949V68.521H228.144Z" fill="black"/>
              <path d="M203.463 85.8956H197.097C194.439 85.8956 193.138 84.2485 193.138 80.9544V73.8494H190.287V68.5206H193.138V63.4502H200.612V68.5206H203.463V73.8494H200.612V78.9844C200.612 79.5657 200.667 79.9532 200.833 80.1793C200.999 80.4054 201.332 80.5023 201.857 80.5023H203.463V85.8956Z" fill="black"/>
              <path d="M188.279 61.8677V67.0673H180.75V61.8677H188.279ZM188.279 68.5206V85.8956H180.75V68.5206H188.279Z" fill="black"/>
              <path d="M178.406 85.8956H172.04C169.383 85.8956 168.082 84.2485 168.082 80.9544V73.8494H165.231V68.5206H168.082V63.4502H175.555V68.5206H178.406V73.8494H175.555V78.9844C175.555 79.5657 175.611 79.9532 175.777 80.1793C175.943 80.4054 176.275 80.5023 176.801 80.5023H178.406V85.8956Z" fill="black"/>
              <path d="M153.998 86.38H152.476C145.833 86.38 142.539 84.3454 142.539 80.2116V79.9855H150.206C150.206 80.2116 150.234 80.4053 150.289 80.5991C150.344 80.7929 150.483 81.019 150.677 81.2773C150.843 81.5357 151.175 81.7618 151.618 81.8909C152.061 82.0524 152.614 82.117 153.278 82.117H153.334C154.524 82.117 155.327 81.9878 155.77 81.7295C156.185 81.4711 156.406 81.1158 156.406 80.6637V80.5991C156.406 80.147 156.212 79.824 155.853 79.5979C155.465 79.3719 154.718 79.2427 153.555 79.1781L150.4 79.0812C145.251 78.8874 142.705 77.0466 142.705 73.6233V73.4295C142.705 72.6544 142.816 71.9762 143.092 71.3949C143.341 70.8136 143.812 70.2322 144.476 69.6832C145.141 69.1665 146.165 68.7466 147.493 68.456C148.822 68.1976 150.483 68.0361 152.476 68.0361H153.943C160.447 68.0361 163.714 69.8447 163.714 73.4295V73.6556H156.185C156.129 73.3972 156.074 73.1711 155.991 72.9774C155.88 72.7836 155.604 72.5898 155.133 72.3637C154.662 72.17 154.026 72.0408 153.195 72.0408H153.168C152.005 72.0408 151.23 72.1377 150.843 72.3314C150.455 72.5252 150.261 72.8159 150.261 73.2357V73.268C150.261 73.6556 150.455 73.9785 150.843 74.1723C151.23 74.3984 151.95 74.5275 153.029 74.5598L156.157 74.6567C158.344 74.7536 160.032 75.012 161.25 75.4641C162.44 75.9163 163.243 76.5299 163.658 77.2404C164.046 77.9832 164.267 78.952 164.267 80.1793V80.4053C164.267 81.1158 164.184 81.7295 164.046 82.2785C163.88 82.8275 163.603 83.3765 163.16 83.8933C162.717 84.41 162.108 84.8621 161.389 85.2174C160.641 85.5726 159.645 85.8633 158.399 86.0571C157.154 86.2831 155.687 86.38 153.998 86.38Z" fill="black"/>
              <path d="M117.891 85.8954V68.5204H125.365V71.5884C125.641 71.2978 125.835 71.0717 126.001 70.9102C126.167 70.7488 126.499 70.4581 127.025 70.0383C127.551 69.6507 128.077 69.3277 128.575 69.1017C129.074 68.8756 129.71 68.6495 130.513 68.4558C131.316 68.262 132.174 68.1328 133.059 68.1328H133.226C134.554 68.1328 135.689 68.3589 136.685 68.7787C137.682 69.1986 138.429 69.7476 138.983 70.4258C139.509 71.104 139.896 71.8145 140.145 72.525C140.395 73.2355 140.533 73.9783 140.533 74.7211V85.8954H132.976V77.5954C132.976 76.3682 132.672 75.3993 132.091 74.6888C131.509 73.9783 130.596 73.5908 129.378 73.5908C128.132 73.5908 127.164 73.9783 126.472 74.7534C125.752 75.5285 125.42 76.562 125.42 77.8215V85.8954H117.891Z" fill="black"/>
              <path d="M114.904 61.8677V85.8956H107.071V61.8677H114.904Z" fill="black"/>
              <path fillRule="evenodd" clipRule="evenodd" d="M86.0002 44.8696H77.0418V47.4791C77.0418 68.7536 59.7954 86 38.5209 86C17.2464 86 4.67886e-06 68.7536 0 47.4791L0 41.1304H8.9584L8.9584 38.5209C8.95839 17.2464 26.2048 0 47.4793 0C68.7538 0 86.0002 17.2464 86.0002 38.5209L86.0002 44.8696ZM53.0289 74.2503C71.261 57.6143 71.2611 30.642 53.0289 14.006L42.5155 4.41301L32.0021 14.006C13.77 30.642 13.77 57.6143 32.0021 74.2503L42.5155 83.8433L53.0289 74.2503ZM65.3263 42.722L58.4593 40.2316C52.3668 38.022 47.5739 33.1165 45.4151 26.8807L42.9819 19.8522L40.5487 26.8807C38.3899 33.1165 33.597 38.022 27.5045 40.2316L20.6375 42.722L27.5045 45.2125C33.597 47.422 38.3899 52.3276 40.5487 58.5633L42.9819 65.5918L45.4151 58.5633C47.5739 52.3276 52.3668 47.422 58.4593 45.2125L65.3263 42.722Z" fill="black"/>
            </svg>
          </a>

          {/* Desktop Navigation */}
          <nav className="hidden lg:flex items-center gap-6 xl:gap-8">
            {navItems.map((item) => {
              const isActive = pathname === item.href;

              return (
                <Link
                  key={item.href}
                  href={item.href}
                  className="relative font-medium text-sm xl:text-base transition-colors whitespace-nowrap"
                  style={{
                    color: isActive ? '#E67E22' : '#2B1810',
                  }}
                >
                  {item.label}
                  {isActive && (
                    <span className="absolute -bottom-1 left-1/2 transform -translate-x-1/2">
                      <svg width="12" height="6" viewBox="0 0 12 6" fill="none">
                        <path d="M6 6L0 0H12L6 6Z" fill="#E67E22"/>
                      </svg>
                    </span>
                  )}
                </Link>
              );
            })}
          </nav>

          {/* Desktop Go Home Link */}
          <a
            href="https://www.psychedelicsafety.institute"
            className="hidden lg:block px-3 xl:px-4 py-2 text-xs xl:text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors whitespace-nowrap"
          >
            Go Home
          </a>

          {/* Mobile Menu Button */}
          <button
            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
            className="lg:hidden p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100"
            aria-label="Toggle menu"
          >
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              {mobileMenuOpen ? (
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
              ) : (
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
              )}
            </svg>
          </button>
        </div>

        {/* Mobile Menu */}
        {mobileMenuOpen && (
          <div className="lg:hidden mt-4 pt-4 border-t border-gray-200">
            <nav className="flex flex-col space-y-2">
              {navItems.map((item) => {
                const isActive = pathname === item.href;
                return (
                  <Link
                    key={item.href}
                    href={item.href}
                    onClick={() => setMobileMenuOpen(false)}
                    className="px-3 py-2 rounded-md font-medium text-base transition-colors"
                    style={{
                      backgroundColor: isActive ? '#E0F2EF' : 'transparent',
                      color: isActive ? '#317E6D' : '#2B1810',
                    }}
                  >
                    {item.label}
                  </Link>
                );
              })}
              <a
                href="https://www.psychedelicsafety.institute"
                className="px-3 py-2 rounded-md font-medium text-base text-gray-700 hover:text-gray-900 hover:bg-gray-100 transition-colors"
              >
                Go Home
              </a>
            </nav>
          </div>
        )}
      </div>
    </header>
  );
}
